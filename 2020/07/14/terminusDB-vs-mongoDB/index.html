<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>TerminusDB vs MongoDB | Graph Database Blog - News and Tutorials from TerminusDB</title>
<meta name="description" content="Graph Database Management news, tutorials and updates from TerminusDB
">

<meta itemprop="name" content="TerminusDB">
<meta itemprop="description" content="Let‚Äôs see the main differences between TerminusDB and MongoDB in practice">
<meta itemprop="image" content="https://terminusdb.com/blog/assets/images/directory-106815_1920.jpg">

<meta property="og:url" content="https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/">
<meta property="og:type" content="website">
<meta property="og:title" content="TerminusDB vs MongoDB | Graph Database Blog - News and Tutorials from TerminusDB">
<meta property="og:site_name" content="Graph Database Blog - News and Tutorials from TerminusDB">
<meta property="og:description" content="Let‚Äôs see the main differences between TerminusDB and MongoDB in practice">
<meta property="og:image" content="https://terminusdb.com/blog/assets/images/directory-106815_1920.jpg">

<meta name="twitter:url" content="https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TerminusDB vs MongoDB | Graph Database Blog - News and Tutorials from TerminusDB">
<meta name="twitter:site" content="Graph Database Blog - News and Tutorials from TerminusDB">
<meta name="twitter:description" content="Let‚Äôs see the main differences between TerminusDB and MongoDB in practice">

  <meta name="twitter:creator" content="@TerminusDB">

<meta property="twitter:image" content="https://terminusdb.com/blog/assets/images/directory-106815_1920.jpg">

<link rel="icon" type="image/x-icon" href="/blog/assets/images/favicon.ico">

<link rel="stylesheet" href="/blog/assets/main.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" />

<link rel="alternate" type="application/rss+xml" title="Graph Database Blog - News and Tutorials from TerminusDB" href="/blog/feed.xml">
<link rel="canonical" href="/blog/2020/07/14/terminusDB-vs-mongoDB/">




</head>
<body id="terminusdb-vs-mongodb" class="post-layout">
  
  <header class="header">
  <a class="header__title" href="https://terminusdb.com/"><img src="/blog/assets/images/horizontal_lockup.png" style="height: 1.8em; margin-top: 0.8em;"/></a>

  <nav>
  <ul class="header__list">
    <li><a href="/blog">Blog</a></li>
    <li><a href="https://podcast.terminusdb.com/">Podcast</a></li>
    <li><a href="https://terminusdb.com/community/">Community</a></li>
    <li><a href="https://events.terminusdb.com/">Events</a></li>
    <li><a href="https://discord.gg/Gvdqw97">Join Discord</a></li>
  </ul>
</nav>

</header>


  <main class="üíà">

    <div class="post">
  <article itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting" class="h-entry">
    <div class="post__header section-padding--double">
      <div class="grid-small">
        <h2 itemprop="name headline" class="p-name">TerminusDB vs MongoDB</h2>

        <time class="post__date" datetime="2020-07-14T10:44:15+00:00" itemprop="datePublished">14 Jul 2020</time>
      </div>
    </div>

    
      <div class="post__img u-photo">
        <div>
          <figure class="absolute-bg" style="background-image: url('https://terminusdb.com/blog/assets/images/directory-106815_1920.jpg'); background-size: contain;"></figure>
        </div>
      </div>
    

    

    <div class="post__content section-padding">
      <div class="grid">
        <div id="markdown" itemprop="articleBody" class="e-content">
          <p>Modern application requirements have pushed beyond the limitations of DBMS (relational database management systems). NoSQL databases play an important role in cloud software applications, they store data in a format other than relational tables that does not require a fixed schema, they come in a variety of types based on their data model.</p>

<p>There are four main types of databases in the NoSQL (stands for ‚ÄúNot Only SQL‚Äù or ‚ÄúNot SQL.‚Äù):  key-value pair based, wide column, document-oriented and graph-based.</p>

<p>Both TerminusDB and MongoDB are NoSQL databases, both store data as documents, both have a flexible data model, that means that the database schema is flexible and can evolve in the time when the user exigences change, both databases support a rich query language, but TerminusDB is a <strong>version control document system</strong> and a <strong>graph database</strong> as well.</p>

<p>Now let‚Äôs see the main differences between TerminusDB and MongoDB in practice.</p>

<p>if you have never used TerminusDB before, this article includes everything you need to get started with TerminusDB. <a href="https://terminusdb.com/blog/2020/09/01/my-first-terminusdb-3-0-graph-bike-share-data/">My First TerminusDB Graph Visualisation ‚Äî Bike Share Data</a>.</p>

<p><em>Note: We are assuming that you already are familiar with MongoDB.</em></p>

<hr />

<h2 id="the-dataset">The Dataset</h2>

<p>First look at our dataset, which data we need to store and how this data is related to each other.</p>

<p>In our examples we use the collection of data about the bike journeys between stations in Washington D.C., USA.</p>

<p><img src="/blog/assets/images/bike_table.png" alt="data about the bike journeys between stations in Washington D.C" /></p>

<p>The CSV data used this tutorial is available at <a href="https://terminusdb.com/t/data/bike_tutorial.csv">https://terminusdb.com/t/data/bike_tutorial.csv</a></p>

<hr />

<h2 id="query-language">Query language</h2>

<p>MongoDB uses the MongoDB Query Language (<strong>MQL</strong>) for accessing the documents.</p>

<p>In TerminusDB we use <a href="https://terminusdb.com/docs/reference/woql"><strong>WOQL</strong> (Web Object Query Language)</a>. It is a unified model query language, WOQL‚Äôs primary syntax and interchange format is in JSON-LD. All our example are writing using woql.js a javascript layer that help you to compose WOQL query.</p>

<hr />

<h2 id="create-schema">Create Schema</h2>

<p>MongoDB stores data as JSON-like documents. JSON (JavaScript Object Notation) documents support embedded fields, so documents can store related information (data or list of data) together, fields can vary from document to document.</p>

<p>You can insert a document in the collection and MongoDB creates that collection on the fly or maybe you can create a collection with a schema validation before .</p>

<p>Let‚Äôs see how to create a new collection with specified validation rules. Here a fragment  for mongoshell:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nx">db</span><span class="p">.</span><span class="nx">createCollection</span><span class="p">(</span><span class="dl">"</span><span class="s2">journey</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span>
   <span class="na">validator</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">$jsonSchema</span><span class="p">:</span> <span class="p">{</span> <span class="na">bsonType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">object</span><span class="dl">"</span><span class="p">,</span>
         <span class="na">required</span><span class="p">:</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">member_type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">bike_id</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">end_time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">start_time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">start_station</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">end_station</span><span class="dl">"</span><span class="p">],</span>
         <span class="na">properties</span><span class="p">:</span> <span class="p">{</span>            
            <span class="na">member_type</span><span class="p">:</span> <span class="p">{</span><span class="na">bsonType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">the member subscription type‚Äù },
            bike_id:{ bsonType: </span><span class="dl">"</span><span class="nx">string</span><span class="dl">"</span><span class="s2">, description: </span><span class="dl">"</span><span class="p">....</span><span class="err">‚Äù</span> <span class="p">},</span>
            <span class="na">start_time</span><span class="p">:{</span> <span class="na">bsonType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">date, description: </span><span class="dl">"</span><span class="p">......</span><span class="err">‚Äù</span><span class="p">},</span>
            <span class="na">start_station</span><span class="p">:</span> <span class="p">{</span> <span class="na">bsonType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">object</span><span class="dl">"</span><span class="p">,</span> <span class="na">required</span><span class="p">:</span> <span class="p">[</span> <span class="dl">"</span><span class="s2">station_number</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">address</span><span class="dl">"</span> <span class="p">],</span>
               <span class="na">properties</span><span class="p">:</span> <span class="p">{</span>
                  <span class="na">station_number</span><span class="p">:</span> <span class="p">{</span>  <span class="na">bsonType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">int</span><span class="dl">"</span><span class="p">,</span> <span class="na">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">....</span><span class="dl">"</span>  <span class="p">},</span>
                  <span class="na">address</span><span class="p">:</span> <span class="p">{</span><span class="na">bsonType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">description</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">.....</span><span class="dl">"</span><span class="p">}</span> <span class="p">}</span> <span class="p">},</span>                         
            <span class="p">...............................</span>
        <span class="p">}</span> <span class="p">}}})</span>
</code></pre></div></div>

<p>We have created our <strong>journey</strong> collection with embedded  the <strong>start_station</strong> and <strong>end_station</strong> data entities (station_number,address) in the journey collection data. For many use cases in MongoDB, the denormalized data model is optimal.</p>

<p>In TerminusDB we have documents as well, so for our dataset we prefer to create three different documents: Station, Journey and Bicycle, every document has a label and a description and is identified by an unique URL. In our documents we have properties to describe the type of data and the documents are related to each other.  Following the link between the documents we can track the relationship between connected data for example <strong>Station</strong> - <em>many</em> - <strong>Journey</strong>.</p>

<p>An example of relationship between documents written in woql.js</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">when</span><span class="p">(</span><span class="kc">true</span><span class="p">).</span><span class="nx">and</span><span class="p">(</span>        
   <span class="nx">WOQL</span><span class="p">.</span><span class="nx">doctype</span><span class="p">(</span><span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>            
       <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike Station</span><span class="dl">"</span><span class="p">)</span>            
       <span class="p">.</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">A station where bicycles are deposited</span><span class="dl">"</span><span class="p">),</span>        
   <span class="nx">WOQL</span><span class="p">.</span><span class="nx">doctype</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">)</span>            
       <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">),</span>        
   <span class="nx">WOQL</span><span class="p">.</span><span class="nx">doctype</span><span class="p">(</span><span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">)</span>            
       <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">start_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">).</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start Station</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">end_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">).</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">End Station</span><span class="dl">"</span><span class="p">)</span>
       <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">).</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bicycle Used</span><span class="dl">"</span><span class="p">)</span>
<span class="err">‚Ä¶</span><span class="p">...)</span>         
</code></pre></div></div>

<p>In the <strong>Journey</strong> document the range data type of the <strong>start_station</strong> and <strong>end_station</strong> properties (ObjectProperty) are the <strong>Station</strong> document.</p>

<hr />

<h2 id="load-data">Load Data</h2>

<p>In MongoDB you can‚Äôt import a csv file in the journey collection directly.  We could use mongoimport.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mongoimport <span class="nt">--db</span><span class="o">=</span>mybike <span class="nt">--collection</span><span class="o">=</span>journey <span class="nt">--type</span><span class="o">=</span>csv  <span class="nt">--ignoreBlanks</span> <span class="nt">--headerline</span> <span class="nt">--file</span><span class="o">=</span><span class="s2">"./bike_tutorial.csv"</span>
</code></pre></div></div>

<p>But the result will be a different collection schema</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w"> </span><span class="nl">"_id"</span><span class="p">:</span><span class="s2">"ObjectId(5f05f055c74146b286a61cf0)"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Duration"</span><span class="p">:</span><span class="mi">831</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Start date"</span><span class="p">:</span><span class="s2">"2018-12-01 00:06:00"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"End date"</span><span class="p">:</span><span class="s2">"2018-12-01 00:19:52"</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Start station number"</span><span class="p">:</span><span class="mi">31202</span><span class="p">,</span><span class="w">
   </span><span class="nl">"Start station"</span><span class="p">:</span><span class="s2">"14th &amp; R St NW"</span><span class="p">,</span><span class="w">
  </span><span class="err">........</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>if you like to create the documents from the csv file inside the collection <strong>journey</strong> you have to implement your custom solution, maybe you could using javascript for import the data from the csv file ( csvtojson is a node.js library) and <strong>mongodb</strong> the official MongoDB driver for Node.js to insert the data into the collection.</p>

<p>Here one example to insert a document inside the journey collection using <em>mongoshell</em>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">db</span><span class="p">.</span><span class="nx">journey</span><span class="p">.</span><span class="nx">insert</span><span class="p">({</span><span class="dl">"</span><span class="s2">_id</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">31203_2018-12-01 00:00:44_31116_2018-12-01 00:13:54_W21477</span><span class="dl">"</span><span class="p">,</span> 
    <span class="dl">"</span><span class="s2">start_station</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">station_number</span><span class="dl">"</span><span class="p">:</span><span class="nx">NumberInt</span><span class="p">(</span><span class="mi">31203</span><span class="p">),</span><span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">14th &amp; Rhode Island Ave NW</span><span class="dl">"</span><span class="p">},</span>
    <span class="dl">"</span><span class="s2">end_station</span><span class="dl">"</span><span class="p">:{</span><span class="dl">"</span><span class="s2">station_number</span><span class="dl">"</span><span class="p">:</span><span class="nx">NumberInt</span><span class="p">(</span><span class="mi">31116</span><span class="p">),</span><span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">California St &amp; Florida Ave NW</span><span class="dl">"</span><span class="p">},</span>
    <span class="dl">"</span><span class="s2">start_time</span><span class="dl">"</span><span class="p">:</span><span class="nx">ISODate</span><span class="p">(</span><span class="dl">"</span><span class="s2">2018-12-01 00:00:44</span><span class="dl">"</span><span class="p">),</span>
    <span class="dl">"</span><span class="s2">end_time</span><span class="dl">"</span><span class="p">:</span><span class="nx">ISODate</span><span class="p">(</span><span class="dl">"</span><span class="s2">2018-12-01 00:13:54</span><span class="dl">"</span><span class="p">),</span>
    <span class="dl">"</span><span class="s2">member_type</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Member</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">duration</span><span class="dl">"</span><span class="p">:</span><span class="nx">NumberInt</span><span class="p">(</span><span class="mi">790</span><span class="p">),</span>
    <span class="dl">"</span><span class="s2">bike_id</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">W21477</span><span class="dl">"</span><span class="p">})</span>
</code></pre></div></div>

<p>In TerminusDB we have a very cleaner solution to import csv files into the database, with a data integrity check for any newly imported records. We use the woql.js layer for write the query statement to load the data from the csv file.</p>

<p>A fragment of an import query.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">csv</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Start station</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Station</span><span class="dl">"</span><span class="p">)</span>
  		<span class="p">......</span>     
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">End station number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_ID</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike number</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="k">as</span><span class="p">(</span><span class="dl">"</span><span class="s2">Member type</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Member_Type</span><span class="dl">"</span><span class="p">)</span>
<span class="p">).</span><span class="nx">remote</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://terminusdb.com/t/data/bike_tutorial.csv</span><span class="dl">"</span><span class="p">)</span>
</code></pre></div></div>

<p>We use <strong>WOQL.as(a,b)</strong> to refer the first row of our csv file that contain the column headers in our variables, for example the field <strong>Start station number</strong> refers the variable <strong>v:Start_ID</strong> and the  <strong>Start station</strong> refers the variable <strong>v:Start_Station</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Clean data for insert</span>
<span class="kd">const</span> <span class="nx">wrangles</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Duration</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:integer</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Duration_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:dateTime</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ST_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Time</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:dateTime</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ET_Cast</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:SS_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">typecast</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">xsd:string</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:ES_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Journey</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Start_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Journey_ID</span><span class="dl">"</span><span class="p">),</span>       
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Station</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Start_ID</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Station</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:End_ID</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">idgen</span><span class="p">(</span><span class="dl">"</span><span class="s2">doc:Bicycle</span><span class="dl">"</span><span class="p">,[</span><span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">],</span><span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">),</span>    
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_ID - v:End_ID @ v:Start_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:J_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="dl">"</span><span class="s2">Bike v:Bike from v:Start_Station to v:End_Station at v:Start_Time until v:End_Time</span><span class="dl">"</span><span class="p">,</span><span class="dl">"</span><span class="s2">v:Journey_Description</span><span class="dl">"</span><span class="p">)</span>
<span class="p">];</span> 
</code></pre></div></div>

<p>We cast (WOQL.typecast(a,b,c) method) the variable <strong>v:Start_Station</strong> as string (‚Äúxsd:string‚Äù) and refer it in a new variable <strong>v:SS_Label</strong></p>

<p>With WOQL.idgen(a,b,c) we create an unique id for every document. Example for <em>doc:Station</em> document we create an id from the <em>v:Start_ID</em> and refer it in the <em>v:Start_Station_URL</em></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">inserts</span> <span class="o">=</span> <span class="nx">WOQL</span><span class="p">.</span><span class="nx">and</span><span class="p">(</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey_ID</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Journey</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:J_Label</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">description</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey_Description</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">....</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">start_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">end_station</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">property</span><span class="p">(</span><span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Start_Station_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:SS_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:End_Station_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Station</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:ES_Label</span><span class="dl">"</span><span class="p">),</span>
    <span class="nx">WOQL</span><span class="p">.</span><span class="nx">insert</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike_URL</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">Bicycle</span><span class="dl">"</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">label</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike_Label</span><span class="dl">"</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>

<p>With WOQL.insert() we insert  the data inside our database. We create a <strong>Station</strong> document for every <strong>v:Start_station_URL</strong> and <strong>v:End_station_URL</strong> value and we link this value inside the <strong>start_station</strong> and <strong>end_station</strong> properties in the Journey document. The relationship between journey document and station document  has been created. The relationship allows TerminusDB to normalize the data across multiple documents.‚ùó In this article the complete example <a href="https://terminusdb.com/blog/2020/09/01/my-first-terminusdb-3-0-graph-bike-share-data/">My First TerminusDB Graph Visualisation ‚Äî Bike Share Data</a>.</p>

<hr />

<h2 id="query-the-data">Query the Data</h2>

<p>Here is an example of query operations using the db.collection.find() method in mongoshell, we select from the <strong>journey</strong> collection all documents where the status <strong>bike_id</strong> equals <strong>W21477</strong>.</p>

<p><img src="/blog/assets/images/query-mongo.png" alt="example of query operations using the db.collection" /></p>

<p>The following example selects all the <strong>journey</strong> documents where the <strong>journey_bicycle</strong> property is linked at the <strong>bike</strong> document <strong>W21477</strong></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">WOQL</span><span class="p">.</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">journey_bicycle</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">).</span><span class="nx">triple</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Bike</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">label</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">W21477</span><span class="dl">"</span><span class="p">).</span><span class="nx">read_object</span><span class="p">(</span><span class="dl">"</span><span class="s2">v:Journey</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">v:Journey Doc</span><span class="dl">"</span><span class="p">)</span>
</code></pre></div></div>

<p><img src="/blog/assets/images/terminusdb-query.png" alt="Graph Database TerminusDB" /></p>

<p>Remember that TerminusDB is a graph-database, this means that TerminusDB creates relationships between the documents and properties inside documents.
TerminusDB can analyze and traverse complex relationships between connected data structures. Let‚Äôs keep to practise‚ùó</p>

        </div>

        

<ul class="post__social">
  <li><a href="https://www.facebook.com/sharer/sharer.php?u=https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/" target="_blank"><i class="fa fa-facebook"></i></a></li>
  <li><a href="https://twitter.com/intent/tweet?&text=TerminusDB vs MongoDB+https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/+by+" target="_blank"><i class="fa fa-twitter"></i></a></li>
  <li><a href="https://plus.google.com/share?url=https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/" target="_blank"><i class="fa fa-google-plus"></i></a></li>
  <li><a href="https://www.linkedin.com/shareArticle?mini=true&source=TerminusDB vs MongoDB&summary=Let‚Äôs see the main differences between TerminusDB and MongoDB in practice&url=https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/" target="_blank"><i class="fa fa-linkedin"></i></a></li>
  <li><a href="https://www.stumbleupon.com/badge/?url=https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/" target="_blank"><i class="fa fa-stumbleupon"></i></a></li>
  <li><a href="https://www.reddit.com/submit?url=https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/" target="_blank"><i class="fa fa-reddit-alien"></i></a></li>
  <li><a href="https://www.tumblr.com/share/link?url=https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/" target="_blank"><i class="fa fa-tumblr"></i></a></li>
  <li><a href="https://www.pinterest.com/pin/create/link/?description=Let‚Äôs see the main differences between TerminusDB and MongoDB in practice&media=https://terminusdb.com/blog/assets/images/directory-106815_1920.jpg&url=https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/" target="_blank"><i class="fa fa-pinterest"></i></a></li>
</ul>

      </div>
    </div>

    <!-- Everything inside the #author tags pulls data from the author -->
    
      <div class="section-padding--none">
        <div class="grid p-author h-card">
          <hr class="sep"/>
        </div>
      </div>

      <div class="section-padding">
        <div class="grid-small">
          
            

            
              <span class="post__author">Posted by
            

            <a href="https://github.com/Francesca-Bit" class="p-name u-url">Francesca Bitto</a></span>
            <p class="post__bio p-note">Never stop learning.</p>

          
        </div>
      </div>
    

    <!--

If you use Disqus comments, just uncomment this block.
The only thing you need to change is "test-apkdzgmqhj" - which
should be replaced with your own Disqus site-id.

<div class="post__comments section-padding">
  <div class="grid-small">
    <div id="disqus_thread"></div>
    <script>
      var disqus_config = function () {
        this.page.url = 'https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/';
        this.page.identifier = 'https://terminusdb.com/blog/2020/07/14/terminusDB-vs-mongoDB/';
      };
      (function() {
        var d = document, s = d.createElement('script');
        s.src = 'https://.disqus.com/embed.js';
        s.setAttribute('data-timestamp', + new Date());
        (d.head || d.body).appendChild(s);
      })();
    </script>
  </div>
</div>
-->


  </article>
</div>

<!-- Links to Previous/Next posts -->


  <section class="related section-padding">
    <div class="grid-xlarge">
      <h2 class="related__title">Related</h2>
      <div class="related__container">
      
        
        
          <article class="related__post">
            <a class="related__link" href="/blog/2020/09/24/graph-databases-terminusdb-vs-neo4j/"">
              
                <figure class="related__img">
                  <img src="https://terminusdb.com/blog/assets/images/clint-adair-unsplash.jpg" alt="Graph Databases <br>TerminusDB vs Neo4j"/>
                </figure>
              
              
              <div>
                <h2 class="related__text">Graph Databases <br>TerminusDB vs Neo4j</h2>
              </div>
            </a>
          </article>
        
        
        
        
        
          <article class="related__post">
            <a class="related__link" href="/blog/2020/07/27/taking-terminusdb-to-the-bank-part-ii/"">
              
                <figure class="related__img">
                  <img src="https://terminusdb.com/blog/assets/uploads/collaborate.jpg" alt="Taking TerminusDB to the bank (Part II)"/>
                </figure>
              
              
              <div>
                <h2 class="related__text">Taking TerminusDB to the bank (Part II)</h2>
              </div>
            </a>
          </article>
        
        
        
        
        
          <article class="related__post">
            <a class="related__link" href="/blog/2020/07/27/taking-terminusdb-to-the-bank/"">
              
                <figure class="related__img">
                  <img src="https://terminusdb.com/blog/assets/uploads/cover.jpg" alt="Taking TerminusDB to The Bank (Part I)"/>
                </figure>
              
              
              <div>
                <h2 class="related__text">Taking TerminusDB to The Bank (Part I)</h2>
              </div>
            </a>
          </article>
        
        
        
          
      
        
      
      </div>
    </div>
  </section>


    
  </main>

  <!-- The footer at the very bottom of the screen -->
<footer class="footer section-padding">
  <div class="grid">
    <div class="footer__container">
     <!-- <ul class="footer__tags"><li><a class="footer__link" href="/tag/database">Database</a></li><li><a class="footer__link" href="/tag/database">Database</a></li><li><a class="footer__link" href="/tag/data">Data</a></li><li><a class="footer__link" href="/tag/graph-database">Graph Database</a></li><li><a class="footer__link" href="/tag/data">Data</a></li></ul> -->

      
  <ul class="footer__social">
    
      <li><a href="https://twitter.com/TerminusDB" target="_blank"><i class="fa fa-twitter"></i></a></li>
    
      <li><a href="https://github.com/terminusdb" target="_blank"><i class="fa fa-github"></i></a></li>
    
      <li><a href="https://discord.gg/Gvdqw97" target="_blank"><i class="fa fa-Discord"></i></a></li>
    
      <li><a href="https://www.youtube.com/channel/UC5kZt8pP-FM0u-R0BQr78YA" target="_blank"><i class="fa fa-youtube"></i></a></li>
    
  </ul>


    </div>
  </div>
</footer>


<script src="/blog/assets/js/app.min.js"></script>
<script async defer src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
<noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt=""/></noscript>
<script>
  var _paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['disableCookies']);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
      var u="https://terminusdb.matomo.cloud/";
      _paq.push(['setTrackerUrl', u+'matomo.php']);
      _paq.push(['setSiteId', '1']);
      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      g.type='text/javascript'; g.async=true; g.defer=true; g.src='//cdn.matomo.cloud/terminusdb.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
  })();
</script>




</body>
</html>
